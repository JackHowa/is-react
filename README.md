Inspired by this post http://stackoverflow.com/a/41658173
